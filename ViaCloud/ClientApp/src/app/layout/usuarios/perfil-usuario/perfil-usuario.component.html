

<div class="container emp-profile" [hidden]="mostrarComponenteCodigoSeguridad">

  <div class="row animated--fade-in" *ngIf="!Cargando">
    <!--<div class="col-md-4">
      <div class="profile-img rounded-circle ">
        <img class="rounded-circle" src="https://www.ventas-ariztia.cl/Public/images/iconos/usuario.png" alt="" />
      </div>
    </div>-->
    <div class="col-md-12 text-right">
      <button type="submit" class="btn btn-primary-light" (click)="open(content)"> <i class="fas fa-pen"></i> Editar</button>
    </div>
    <div class="col-md-6">
      <div class="profile-head">
        <h5>
          {{ElUsuario.usuNombre }} {{ElUsuario.usuApellido }}
        </h5>
        <h6>
          Usuario del sistema MAR
        </h6>
        <ul class="nav nav-tabs" id="myTab" role="tablist">
          <li class="nav-item">
            <a class="nav-link active" id="home-tab" data-toggle="tab" href="#home" role="tab" aria-controls="home" aria-selected="true">Perfil</a>
          </li>

        </ul>
      </div>
    </div>
    <div class="col-md-2">
    </div>
  </div>
  <div class="row animated animated--fade-in" *ngIf="!Cargando">
    <div class="col-md-4">
      <div class="profile-work">
        <p>ACTIVIDADES RECIENTES</p>
        <a href="">Website Link</a><br />
        <a href="">Bootsnipp Profile</a><br />
        <a href="">Bootply Profile</a>
      </div>
    </div>
    <div class="col-md-8">
      <div class="tab-content profile-tab" id="myTabContent">


        <div class="tab-pane fade show active" id="home" role="tabpanel" aria-labelledby="home-tab">
          <div class="row">
            <div class="col-md-6">
              <label>Usuario Id</label>
            </div>
            <div class="col-md-6">
              <p> {{ElUsuario.usuarioID }}</p>
            </div>
          </div>
          <div class="row">
            <div class="col-md-6">
              <label>Usuario</label>
            </div>
            <div class="col-md-6">
              <p>{{ElUsuario.usuUserName }}</p>
            </div>
          </div>
          <div class="row">
            <div class="col-md-6">
              <label>Email</label>
            </div>
            <div class="col-md-6">
              <p>{{ElUsuario.email }}</p>
            </div>
          </div>
          <div class="row">
            <div class="col-md-6">
              <label>Nombre</label>
            </div>
            <div class="col-md-6">
              <p>   {{ElUsuario.usuNombre }} </p>
            </div>
          </div>
          <div class="row">
            <div class="col-md-6">
              <label>Apellido</label>
            </div>
            <div class="col-md-6">
              <p>{{ElUsuario.usuApellido }}</p>
            </div>
          </div>
          <div class="row">
            <div class="col-md-6">
              <label>Cédula</label>
            </div>
            <div class="col-md-6">
              <p>{{ElUsuario.usuCedula }}</p>
            </div>
          </div>
        </div>


        <div class="tab-pane fade" id="profile" role="tabpanel" aria-labelledby="profile-tab">
          <div class="row">
            <div class="col-md-6">
              <label>Experience</label>
            </div>
            <div class="col-md-6">
              <p>Expert</p>
            </div>
          </div>
          <div class="row">
            <div class="col-md-6">
              <label>Hourly Rate</label>
            </div>
            <div class="col-md-6">
              <p>10$/hr</p>
            </div>
          </div>
          <div class="row">
            <div class="col-md-6">
              <label>Total Projects</label>
            </div>
            <div class="col-md-6">
              <p>230</p>
            </div>
          </div>
          <div class="row">
            <div class="col-md-6">
              <label>English Level</label>
            </div>
            <div class="col-md-6">
              <p>Expert</p>
            </div>
          </div>
          <div class="row">
            <div class="col-md-6">
              <label>Availability</label>
            </div>
            <div class="col-md-6">
              <p>6 months</p>
            </div>
          </div>

        </div>
      </div>
    </div>
  </div>



  <div class="row" id="CargandoPerfil" *ngIf="Cargando">
    <div class="col-md-6 col-sm-12">
      <div class="text">
        <div class="text-line col-md-8"> </div>
        <div class="text-line"></div>
      </div>
    </div>
    <div class="col-md-12 mt-4">
      <div class="row">
        <div class="col-md-4">
          <div class="text">
            <div class="text-line"></div>
            <div class="text-line"></div>
            <div class="text-line"></div>
            <div class="text-line"></div>
            <div class="text-line"></div>
          </div>
        </div>
        <div class="col-md-4">
          <div class="text">
            <div class="text-line"></div>
            <div class="text-line"></div>
            <div class="text-line"></div>
            <div class="text-line"></div>
            <div class="text-line"></div>
          </div>
        </div>
        <div class="col-md-4">
          <div class="text">
            <div class="text-line"></div>
            <div class="text-line"></div>
            <div class="text-line"></div>
            <div class="text-line"></div>
            <div class="text-line"></div>
          </div>
        </div>
      </div>
    </div>
  </div>


</div>

<app-usuario-codigo-seguridad [hidden]="!mostrarComponenteCodigoSeguridad"
                              (codigoValidado)="ValidarCodigoSeguridad($event)"
                              (OnClickbtnCancelar)="Cancelar($event)"
                              [(usuarioNombreCompleto)]="nombreCompletoUsuarioLogueado"
                              [(CorreoNotificadoCambioClave)]="correoUsuarioModificado">

</app-usuario-codigo-seguridad>

<ng-template #content let-c="close" let-d="dismiss">
  <div class="row">
    <div class="col">
      <div class="modal-header">
        <h6 class="c-grey-900">Mi cuenta</h6>
        <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="animated yt-loader-edit" *ngIf="Cargando"></div>
      <form [formGroup]="Formulario" (ngSubmit)="onSubmit()" class="p-2">
        <div class="form-row">

          <div class="form-group col-md-6 col-sm-12">
            <label>Nombre <span class=" text-danger">*</span> </label>
            <input type="text" formControlName="usuNombre" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.usuNombre.errors }">
            <div *ngIf="submitted && f.usuNombre.errors" class="invalid-feedback animated animated--fade-in">
              <div *ngIf="f.usuNombre.errors.required  ">El nombre es obligatorio</div>
            </div>
          </div>

          <div class="form-group col-md-6 col-sm-12">
            <label>Apellido <span class=" text-danger">*</span> </label>
            <input type="text" formControlName="usuApellido" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.usuApellido.errors }">
            <div *ngIf="submitted && f.usuApellido.errors" class="invalid-feedback animated animated--fade-in">
              <div *ngIf="f.usuApellido.errors.required  ">El apellido es obligatorio</div>
            </div>
          </div>

          <div class="form-group col-md-6 col-sm-12">
            <label>Username <span class=" text-danger">*</span> </label>
            <input type="text" formControlName="usuUserName" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.usuUserName.errors }">
            <div *ngIf="submitted && f.usuUserName.errors" class="invalid-feedback animated animated--fade-in">
              <div *ngIf="f.usuUserName.errors.required  ">El Username es obligatorio</div>
            </div>
          </div>
          <div class="form-group col-md-6 col-sm-12">
            <label>Email <span class=" text-danger">*</span> </label>
            <input type="email" formControlName="email" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.email.errors }">
            <div *ngIf="submitted && f.email.errors" class="invalid-feedback animated animated--fade-in">
              <div *ngIf="f.email.errors.required  ">El email es obligatorio</div>
              <div *ngIf="f.email.errors.email  ">Ingresa un email válido</div>
            </div>
          </div>


          <div class="form-group col-md-6 col-sm-12">
            <label>Fecha de Nacimiento  </label>
            <input type="date" formControlName="usuFechaNac" class="form-control" />
          </div>

          <div class="form-group col-md-6 col-sm-12">
            <label>Cedula <span class=" text-danger">*</span> </label>
            <input type="text" formControlName="usuCedula" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.usuCedula.errors }">
            <div *ngIf="submitted && f.usuCedula.errors" class="invalid-feedback animated animated--fade-in">
              <div *ngIf="f.usuCedula.errors.required  ">El cedula es obligatoria</div>
            </div>
          </div>


          <div class="form-group col-md-6 col-sm-12">
            <label>Clave <span class=" text-danger">*</span> </label>
            <input type="password" formControlName="usuClave" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.usuClave.errors }">
            <div *ngIf="submitted && f.usuClave.errors" class="invalid-feedback animated animated--fade-in">
              <div *ngIf="f.usuClave.errors.required  ">La clave es obligatorio</div>
              <div *ngIf="f.usuClaveConfirm.errors.mustMatch  ">Las claves deben ser iguales</div>
              <div *ngIf="f.usuClave.errors.minlength  ">6 dígitos como mínimo</div>
            </div>
          </div>

          <div class="form-group col-md-6 col-sm-12" *ngIf="claveAnterior != f.usuClave.value">
            <label>Confirma tu clave <span class=" text-danger">*</span> </label>
            <input type="password" formControlName="usuClaveConfirm" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.usuClaveConfirm.errors }">
            <div *ngIf="submitted && f.usuClaveConfirm.errors" class="invalid-feedback animated animated--fade-in">
              <div *ngIf="f.usuClaveConfirm.errors.required  ">Confirma tu clave</div>
              <div *ngIf="f.usuClaveConfirm.errors.mustMatch  ">La clave deben ser iguales</div>
              <div *ngIf="f.usuClaveConfirm.errors.minlength  ">6 dígitos como mínimo</div>
            </div>
          </div>

        </div>
        <div class="form-group text-right">
          <button type="button" *ngIf="btnGuardarCargando" class="btn btn-primary m-1 disabled" style="cursor:not-allowed !important"><i class="fas fa-spin fa-spinner"></i> Guardando </button>
          <button type="submit" *ngIf="!btnGuardarCargando" [disabled]="Cargando" class="btn btn-primary-light m-1"><i class="fas fa-check"></i> Guardar</button>
        </div>

      </form>

    </div>
  </div>
</ng-template>
